(function(){String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s*|\s*$/,"")}})();(function(){var f=window.$x||(window.$x={});f.log={};f.log.config={debug:true,info:true,error:true};f.log.isDebug=function(){return f.log.config.debug};f.log.isInfo=function(){return f.log.config.info};f.log.isError=function(){return f.log.config.error};f.log.debug=function(a){if(f.isDebug()){d(a)}};f.log.info=function(a){d(a)};f.log.error=function(a){if(f.log.isError()){alert(a)}};function e(a){alert(a)}function d(a){if(console&&console.log){console.log(a)}else{alert(a)}}})();(function(){var c=window.$x||(window.$x={});c.validators={};c.validators.config={};c.validators.fn={};c.validators.effect={};c.validators.effect.base={error:function(a){var a=a||"There is a error , please check";var b=this.id;if(b){a=a+" at [ID#"+b+"]!"}alert(a)},success:function(){}};c.getEffect=function(){var a=c.validators.config.effect||"base";var b=c.validators.effect[a];return b?b:c.validators.effect.base};c.validators.findValidator=function(h){var i=c.validators.fn[h.name];if(!i){return null}var b=h.param||[];var a=[];for(var j=0;j<b.length;j++){a[j]=d(b[j])}return{validator:i,param:a,invoke:function(e){return i.method.apply(e,a)}}};c.validators.exec=function(a,b){var i=c.validators.findValidator(a,b);if(!i){if(c.log.isError()){c.log.error("ERROR: Validator name#"+a.name+" not found!")}return false}var j=c.getEffect();var k=i.validator;var l=i.invoke(b);if(l){if(j.success){j.success.call(b,k.success)}}else{j.error.call(b,k.error)}return l};c.validators.call=function(a,b,j,l){var i=c.validators[b];if(!i){return false}var k=Array.prototype.slice.call(arguments,2);return i.method.apply(a,k)};function d(a){if(a.length==0){return a}if(a.charAt(0)=="'"||a.charAt(0)=='"'){return a.substring(0,a.length-1)}return parseInt(a)}})();(function(n){function l(a){return(a>="a"&&a<="z")||("A"<=a&&a<="Z")}function o(a){return l(a)||a=="$"||a=="_"}function m(a){return"0"<=a&&a<="9"}function i(a){var b=new p(this);this.status=0;var c=0;this.analyse=function(){var e=false;try{for(c=0;c<a.length;c++){var g=a.charAt(c);b.process(g)}b.selfCheck()}catch(f){e=true;d()}if(e){return null}else{return b.methods}};function d(){if($x.log.isDebug){$x.log.debug("Exception : a error parse at '"+a+"' near index "+c)}}}$x.Analyse=i;function p(b){var a=this.methods=[];var c=new k();this.selfCheck=function(){c.selfCheck();if(!c.finished&&c.value){a.push(c.getValue());c.finished=true}};this.process=function(d){if(b.status==0&&d==" "){return}if(b.status==0){if(!o(d)){throw"Unexcept char "+d}var e=c.process(d);if(e==1){console.err(" success ");throw"success "+d}b.status=1}else{var e=c.process(d);if(e==1){a.push(c.getValue());c.finished=true;c=new k();c.beginStatus=1;c.process(d)}else{if(e==2){c=new j(c);c.beginStatus=2}else{if(e==3){a.push(c.getValue());c.finished=true;c=new k();c.beginStatus=3}}}}}}function k(){this.value=null;this.parent=null;this.status=0;this.parse_name_status_over=false;var a=null;this.process=function(b){if(this.status==0){if(b==" "){return}if(!o(b)){throw"Unexcept char "+b}this.value=""+b;this.status=1}else{if(b==" "){this.parse_name_status_over=true}if(b=="("){return 2}if(!this.parse_name_status_over&&!o(b)&&!m(b)){throw"Unexcept char "+b}if(o(b)||m(b)){if(this.parse_name_status_over){return 1}else{this.value+=b}}}};this.selfCheck=function(){};this.getValue=function(){return{name:this.value}}}function j(z){var z=z;var w=this.value=null;this.parent=z;var d=false;var a=false;var y=null;var h=null;var e=null;var x=this;var g=false;var f=-1;var v=0;this.beginStatus=null;this.process=function(r){var q=null;if(d==false){if(r==" "){return}d=true;if(r=="'"){a=true;b(r)}else{c(r)}}else{if(a){q=b(r)}else{q=c(r)}}h=r;return q};this.selfCheck=function(){if(v!=0&&!g){throw"UnFinished express."}if(this.beginStatus==2&&!g){throw"UnFinished express."}};function b(q){v+=1;if(y==null){y=q;e=""+q;return}else{if(q==y&&h!=null){f=v}if(q==","&&f!=-1){if(f!=-1){x.value=e.substring(0,f)}else{x.value=e}return 2}if(q==")"){if(f!=-1){x.value=e.substring(0,f)}else{x.value=e}g=true;return 3}e+=q}}function c(q){if(y==null){y=q;e=""+q}else{if(q==")"){x.value=e;return 3}if(q==","){x.value=e;return 2}if(m(q)){if(h!=" "){e+=q}else{throw"Unexcept char "+q}}}}this.getValue=function(){var q=z.getValue();q.param=q.param||[];q.param.push(this.value);return q}}})();(function(){$(function(){$("form").find("input").each(function(e,f){var d=$(this).attr("verify");if(d){this._verify=new $x.Analyse(d).analyse()}});$("form").each(function(d,c){$(this).submit(function(){$x.validators.effect.base.isFocus=false;var b=[];var a=true;$(this).find("input").each(function(j,e){var i=this._verify||[];if(this._verify){for(var j=0;j<i.length;j++){methodReturn=$x.validators.exec(i[j],this);if(!methodReturn){a=false}}}});return methodReturn})})})})();(function(){$x.validators.effect.lc={error:function(c){var d=this.id;if(d){if(!$x.validators.effect.base.isFocus){$("#"+d).focus();$x.validators.effect.base.isFocus=true}$("#"+d).css("border-color","#ff7575")}},success:function(c){var d=this.id;if(d){$("#"+d).css("border-color","#fff")}}}})();(function(){$x.validators.fn.required={error:"input value can't be null",success:"",method:function(){var b=$(this).val();return b.trim().length>0}};$x.validators.fn.number={error:"input must be number",success:"",method:function(){var c=$(this).val();var d=/^[0-9]+$/;return d.test(c)}};$x.validators.fn.length={error:"input length error",success:"",method:function(d,e){var f=$(this).val();if(d!=0&&!d){return false}else{if(f.length<d){return false}}if(e!=0&&!e){return false}else{if(f.length>e){return false}}return true}};$x.validators.fn.maxLength={error:"input length should be more shorter",success:"",method:function(d){var c=$(this).val();return c.length<=d}};$x.validators.fn.minLength={error:"input length should be more longer",success:"",method:function(d){var c=$(this).val();return c.length>=d}};$x.validators.fn.max={error:"input should be more smaller",success:"",method:function(d){var c=$(this).val();return(c*1)<=d}};$x.validators.fn.min={error:"input should be more larger",success:"",method:function(d){var c=$(this).val();return(c*1)>=d}};$x.validators.fn.range={error:"input should between [min, max]",success:"",method:function(d,e){var f=$(this).val();return d<=(f*1)&&(f*1)<=e}};$x.validators.fn.email={error:"input is not an email address",success:"",method:function(){var c=$(this).val();var d=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return d.test(c)}};$x.validators.fn.phone={error:"input is not a mobile phone number",success:"",method:function(e){var f=$(this).val();var d=/^1[3|4|5|8]\d{9}$/;return d.test(f)}};$x.validators.fn.tel={error:"input is not a fixed phone number",success:"",method:function(e){var f=$(this).val();var d=/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/;return d.test(f)}};$x.validators.fn.ip={error:"input is not a ip address",success:"",method:function(e){var f=$(this).val();var d=/\b(([01]?\d?\d|2[0-4]\d|25[0-5])\.){3}([01]?\d?\d|2[0-4]\d|25[0-5])\b/;return d.test(f)}}})();